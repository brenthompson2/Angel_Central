<!--
	  File: text-select.html
	  created: 02/08/18 by Brendan Thompson
    Updated: 05/23/18 by Brendan Thompson

    Summary: Page for selecting the text that will go with the image that will get sent
-->

<ion-header>
    <ion-navbar>
        <ion-title>Angel Central</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <!-- Spinner while Loading Data -->
    <ion-spinner name="circles" *ngIf="textList == 0"></ion-spinner>

   	<!-- Main Picture Display -->
   	<ion-card class="main-display">
     		<img [attr.src]="finalImage">
  	</ion-card>

  	<!-- Canvas Where the Guardian Angel is drawn -->
  	<canvas #myCanvas style="display: none;"></canvas>

  	<!-- Text Select -->
  	<!-- <ion-list  *ngIf="textList != 0">
    		<ion-item *ngFor="let text of textList" (click)="selectText(text)">{{ text.text }}</ion-item>
  	</ion-list> -->

    <!-- Text Edit -->
    <ion-item *ngIf="textList != 0" class="textEdit">
        <button ion-button item-start (click)="drawTheImage()">Update</button>
        <button ion-button item-end outline (click)="resetText()" class="undo-btn"><ion-icon name="undo"></ion-icon></button>
    </ion-item>
    <ion-item *ngIf="textList != 0" class="textEdit">
        <ion-textarea [(ngModel)]="currentText.text" type="text" (change)="drawTheImage()">
        </ion-textarea>
    </ion-item>

    <button ion-button block type="submit" (click)="(submitSelection())">Submit</button>
</ion-content>
